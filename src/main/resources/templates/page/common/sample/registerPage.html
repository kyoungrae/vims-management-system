<article class="gi-article-content gi-col-95 gi-row-90">
    <section class="gi-col-100 gi-row-100">
        <header class="gi-flex gi-flex-center gi-col-10">
            <h1 class="gi-page-title">registerPage</h1>
        </header>
        <article class="gi-col-90 gi-row-100 gi-grid gi-grid-template-rows-9fr-1fr gi-grid-gap-10px-10px">
            <!--      등록 영역      -->
            <form id="register" class="gi-row-100 gi-col-100 gi-overflow">
                <div class="gi-row-100 gi-grid-container gi-grid gi-grid-template-rows-repeat-1-4fr-4fr-1fr gi-grid-justify-items-center gi-grid-gap-10px gi-margin-bottom-15px">
                    <div class="gi-row-60 gi-col-100 gi-grid gi-grid-template-columns-repeat-3-1fr gi-grid-rows-container">
                        <div class="gi-row-100 gi-col-100 gi-flex gi-flex-center gi-layout-detail-title">
                            <span>신청인</span>
                        </div>
                        <div class="gi-row-100 gi-col-100 gi-grid gi-grid-template-rows-repeat-3-1fr gi-layout-detail-section">
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center ">
                                <label for="column_id0" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">제작자명</label>
                                <input data-field="column_id0" id="column_id0" name="column_id0" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id1" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="false">대표자명</label>
                                <input data-field="column_id1" id="column_id1" name="column_id1" class="gi-input" data-focus-span-text-align="center" data-required="false" autocomplete="off"/>
                            </div>
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id2" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">주소</label>
                                <input data-field="column_id2" id="column_id2" name="column_id2" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>
                        <div class="gi-row-100 gi-col-100 gi-grid gi-grid-template-rows-repeat-3-1fr">
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id3" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">제작자등록번호</label>
                                <input data-field="column_id3" id="column_id3" name="column_id3" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id4" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="false">대표자생년월일</label>
                                <input data-field="column_id4" id="column_id4" name="column_id4" class="gi-input" data-focus-span-text-align="center" data-required="false" autocomplete="off"/>
                            </div>
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id5" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">전화번호</label>
                                <input data-field="column_id5" id="column_id5" name="column_id5" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>
                    </div>

                    <div class="gi-row-60 gi-col-100 gi-grid gi-grid-template-columns-repeat-3-1fr gi-grid-rows-container">
                        <div class="gi-row-100 gi-col-100 gi-flex gi-flex-center gi-layout-detail-title">
                            <span>자동차</span>
                        </div>
                        <div class="gi-row-100 gi-col-100 gi-grid gi-grid-template-rows-repeat-3-1fr gi-layout-detail-section">
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id6" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">제작자명</label>
                                <input data-field="column_id6" id="column_id6" name="column_id6" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id7" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="false">대표자명</label>
                                <input data-field="column_id7" id="column_id7" name="column_id7" class="gi-input" data-focus-span-text-align="center" data-required="false" autocomplete="off"/>
                            </div>
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id8" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">주소</label>
                                <input data-field="column_id8" id="column_id8" name="column_id8" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>
                        <div class="gi-row-100 gi-col-100 gi-grid gi-grid-template-rows-repeat-3-1fr">
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id9" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">제작자등록번호</label>
                                <input data-field="column_id" id="column_id9" name="column_id9" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id10" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="false">대표자생년월일</label>
                                <input data-field="column_id" id="column_id10" name="column_id10" class="gi-input" data-focus-span-text-align="center" data-required="false" autocomplete="off"/>
                            </div>
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="column_id11" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">전화번호</label>
                                <input data-field="column_id11" id="column_id11" name="column_id11" class="gi-input" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                            </div>
                        </div>
                    </div>

                    <div class="gi-row-60 gi-col-100 gi-grid gi-grid-template-columns-repeat-1-1fr-2fr gi-grid-rows-container">
                        <div class="gi-row-100 gi-col-100 gi-flex gi-flex-center gi-layout-detail-title">
                            <span>구비서류</span>
                        </div>
                        <div class="gi-row-100 gi-col-100">
                            <div class="gi-row-100 gi-input-container gi-input-container-box-border gi-flex gi-flex-center">
                                <label for="file_id" class="gi-input-label" data-focus-label="true" data-focus-label-text-align="default" data-required="true">첨부파일</label>
                                <div class="gi-row-50 gi-col-70">
                                    <div class="gi-btn-section gi-flex gi-flex-center">
                                        <button id="fileUpload" class="gi-btn-file-upload" type="button">파일추가</button>
                                        <input data-field="file_id" id="file_id" name="file_id" class="gi-input gi-hidden" data-focus-span-text-align="center" data-required="true" autocomplete="off"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <!--/     등록 영역      -->
            <!--      버튼 영역      -->
            <div class="gi-row-100 gi-col-100 gi-flex gi-flex-justify-content-center gi-flex-align-items-center gi-overflow-scroll">
                <div class="gi-btn-section gi-row-30 gi-col-30px gi-padding-left-right-20px gi-flex gi-flex-justify-content-center gi-flex-align-items-center">
                    <button id="back-btn" class="gi-btn-back" type="button">목록</button>
                    <button id="register-btn" class="gi-btn-register" type="button">등록</button>
                </div>
            </div>
            <!--/     버튼 영역      -->
        </article>
    </section>
</article>
<script type="text/javascript">
    var PRGMID = "register";	//page id
    init();


    function init(){
        dataSetting();
        //페이지 초기설정
        new PageInit();
        //초기화
        resetEvent();

        setTimeout(function(){
            //클릭 이벤트
            clickEvent();
        },100);

        //파일업로드 이벤트 설정
        let cont = {"FOLDER_NAME":"TEST","TTT1":"TTT2"};
        formUtil.createFileUpload("fileUpload","/file/logsFileUpload","file_id",cont);
    }

    //리스트에서 받아온 데이터 바인딩처리
    function dataSetting(){
        new dataBinding().setData(PRGMID);
    }

    function resetEvent(){
        //데이터 호출 후 이벤트 재설정
        new afterLoadDataEvent();
    }

    //클릭 이벤트
    function clickEvent(){
        // 초기화 버튼 클릭 이벤트
        $(".gi-btn-reset").click(function(){

        });
        //목록 버튼 클릭 이벤트
        $("#back-btn").click(function(){
            redirectBackPage();
        })
        //목록 버튼 클릭 이벤트
        $("#register-btn").click(function(){
            register();
        })
    }
    function register(){
      let flag =  checkValidation();
      if(flag){
        //등록 컨트롤러 호출
      }
    }
     function checkValidation(){
         let flag = false;
         let validation = [];
         validation.formId = "visual_touch_specification_update-popup";

         $(".gi-input[data-required='true'], .gi-select[data-required='true']").map((i,item)=>{
             let messageId = $(item).data("field").toUpperCase();
             let message = Message.Label.Array["SPECIFICATION_MASTER_HISTORY.CHECK."+messageId];
             validation[i]={id:item.id,message:message};
         });
         if(formUtil.validationCheck(validation)){
             flag = true;
         }
         return flag;
    }
    function redirectBackPage(){
        //sessionStorage에 있는 아이탬를 json 형식으로 리턴
        let url = new session().getItem("DATA");

        if(formUtil.checkEmptyValue(url.pre_page_id)){
            formUtil.loadContent(url.pre_page_id , "");
        }else{
            formUtil.alertPopup("시작화면으로 지정 혹은 pre_page_id가 없으면 뒤로 가기를 할 수 없습니다")
        }
    }
</script>
